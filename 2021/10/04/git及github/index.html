<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>git及github - 小凯のHome</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="小凯のHome"><meta name="msapplication-TileImage" content="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="小凯のHome"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta description="这是对文章的摘要内容"><meta property="og:type" content="blog"><meta property="og:title" content="git及github"><meta property="og:url" content="https://violet-zky.github.io/"><meta property="og:site_name" content="小凯のHome"><meta property="og:description" content="这是对文章的摘要内容"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="c:/Users/zky666/AppData/Roaming/Typora/typora-user-images/image-20210724104847224.png"><meta property="article:published_time" content="2021-10-04T10:45:07.000Z"><meta property="article:modified_time" content="2021-10-05T07:27:32.716Z"><meta property="article:author" content="xkxk"><meta property="article:tag" content="教程"><meta property="article:tag" content="git"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="C:\Users\zky666\AppData\Roaming\Typora\typora-user-images\image-20210724104847224.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/"},"headline":"小凯のHome","image":["https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004191856569.png","https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004192337216.png","https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004210027182.png","https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094209913.png","https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094400488.png","https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094919196.png","https://oscimg.oschina.net/oscnet/ccee2f54a7c2274ebbc0d71d03f81ac2862.png","https://oscimg.oschina.net/oscnet/56d0b2899b1f8482365e1434936dac4544e.png","https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091356202-302794253.png","https://oscimg.oschina.net/oscnet/082523ed439a3af0886d0c4bf7b82c073ae.png","https://oscimg.oschina.net/oscnet/241ae66982614ef9ec1d281b3104dcfcb4a.png","https://oscimg.oschina.net/oscnet/a849e01ec9c46173323d328d7bcad91928d.png","https://oscimg.oschina.net/oscnet/05dac82e76b02b209b014b4973809ceaf51.png","https://oscimg.oschina.net/oscnet/475e9a076e6a15b8eee53e34f5cd0097a70.png","https://oscimg.oschina.net/oscnet/d0ffc56f331693c6d986a5fe287db2926d2.png","https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091702996-871710264.png","https://oscimg.oschina.net/oscnet/b21c486e27ab6d6e182657419eb610ba27d.png","https://oscimg.oschina.net/oscnet/cc7ad6b23f1846889cac912741f5fcd9c81.png","https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091809971-1593406562.png","https://oscimg.oschina.net/oscnet/f8a93470b0e06506a26b8372851b50f8006.png","https://oscimg.oschina.net/oscnet/fd03c0d3a7e54809c550870ecaf4260b2d0.png","https://oscimg.oschina.net/oscnet/e77abba16bf112093ff29e627d32a7091b9.png","https://oscimg.oschina.net/oscnet/9183aaedb51cf5a41dd66b5e685a7c4db70.png","https://oscimg.oschina.net/oscnet/6dbd59453e9a2c082d9cc2fa2ba91edaf63.png","https://img2018.cnblogs.com/blog/819128/201912/819128-20191204092313626-223055748.png","https://oscimg.oschina.net/oscnet/4b53095109b502e0fc30cbaf6aaff5d6a51.png"],"datePublished":"2021-10-04T10:45:07.000Z","dateModified":"2021-10-05T07:27:32.716Z","author":{"@type":"Person","name":"xkxk"},"description":"这是对文章的摘要内容"}</script><link rel="canonical" href="https://violet-zky.github.io/2021/10/04/git%E5%8F%8Agithub/"><link rel="icon" href="https://cdn.jsdelivr.net/gh/removeif/removeif-demo@latest/img/favicon.png"><meta name="referrer" content="no-referrer-when-downgrade"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css?family=Ubuntu:400,600|Source+Code+Pro|Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Microsoft YaHei:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&amp;amp;subset=latin,latin-ext|Inconsolata|Itim|Lobster.css"><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="/js/globalUtils.js"></script><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><link rel="stylesheet" href="/live2d/waifu.css"><script type="text/javascript" async src="/live2d/autoload.js"></script><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column has-navbar-fixed-top"><nav class="navbar navbar-main is-fixed-top"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/">小凯のHome</a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/messages">留言</a><a class="navbar-item" href="/music">影音</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Join Gitter" href="https://gitter.im/hexo-theme-amazing/community"><i class="fab fa-gitter"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a><a class="navbar-item" id="night-nav" title="Night Mode" href="javascript:;"><i class="fas fa-moon" id="night-icon"></i></a></div></div></div></nav><script type="text/javascript" src="/js/theme-setting.js"></script><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><!--!--><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><i class="far fa-calendar-plus"> </i>2021-10-04  <a class="commentCountImg" href="/2021/10/04/git%E5%8F%8Agithub/#comment-container"><span class="display-none-class">f66f258218ac9f957501e303c34b0a41</span><i class="far fa-comment-dots"></i> <span class="commentCount" id="f66f258218ac9f957501e303c34b0a41">99+</span>  </a><span class="level-item"><i class="far fa-clock"> </i>1 小时  <i class="fas fa-pencil-alt"> </i>7.5 k</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">git及github</h1><div class="content"><h1 id="常见版本控制器"><a href="#常见版本控制器" class="headerlink" title="常见版本控制器"></a>常见版本控制器</h1><h2 id="集中式版本控制器"><a href="#集中式版本控制器" class="headerlink" title="集中式版本控制器"></a>集中式版本控制器</h2><ul>
<li>CSV/SVN <ul>
<li>速度慢，必须联⽹ </li>
<li>只有⼀个中央数据仓库，如果中央数据仓库挂了或者⽆法访问，所有的使⽤者⽆法使⽤SVN， ⽆法 进⾏提交或备份操作</li>
</ul>
</li>
</ul>
<span id="more"></span>

<!--more-->

<h2 id="分布式版本控制器"><a href="#分布式版本控制器" class="headerlink" title="分布式版本控制器"></a>分布式版本控制器</h2><ul>
<li>Git <ul>
<li>⽆中央服务器，每个⼈的电脑都是⼀个完整的版本库 </li>
<li>安全性能更⾼ </li>
<li>通常有⼀台充当“中央服务器”的电脑，仅仅作为⽅便“交换”⼤家的修改</li>
</ul>
</li>
</ul>
<p><sub>git=混账</sub></p>
<h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><h2 id="安装使用"><a href="#安装使用" class="headerlink" title="安装使用"></a>安装使用</h2><ul>
<li>yum 安装</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 ~]# yum install git -y</span><br></pre></td></tr></table></figure>

<ul>
<li>配置本地用户信息(个性化设置)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# git config --global user.name &quot;xk&quot;</span><br><span class="line">[root@server1 my_git]# git config --global user.email &quot;xk@qq.com&quot;</span><br><span class="line">[root@server1 my_git]# git config --global color.ui true</span><br><span class="line">[root@server1 my_git]# git config --list</span><br><span class="line">user.name=zj</span><br><span class="line">user.email=zj@qq.com</span><br><span class="line">color.ui=true</span><br></pre></td></tr></table></figure>

<ul>
<li>创建并初始化版本库</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# pwd</span><br><span class="line">/my_git</span><br><span class="line">[root@server1 my_git]# git init</span><br><span class="line">初始化空的 Git 版本库于 /my_git/.git/</span><br><span class="line">[root@server1 my_git]# ls -a</span><br><span class="line">. .. .git</span><br><span class="line">[root@server1 my_git]# ls .git/</span><br><span class="line">branches config description HEAD hooks info objects refs</span><br><span class="line">[root@server1 my_git]#</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">branches # 分支目录</span><br><span class="line">config # 定义项目特有的配置选项</span><br><span class="line">description # 仅供git web程序使用</span><br><span class="line">HEAD # 指示当前的分支</span><br><span class="line">hooks # 包含git钩子文件</span><br><span class="line">info # 包含一个全局排除文件</span><br><span class="line">objects # 本地仓库，存放所有的数据内容，有info和pack两个文件夹</span><br><span class="line">refs # 存放指向数据（分支）的提交对象的指针</span><br><span class="line">index # 保存暂存信息，在执行git init的时候，这个文件还没有</span><br></pre></td></tr></table></figure>

<h2 id="概念介绍"><a href="#概念介绍" class="headerlink" title="概念介绍"></a>概念介绍</h2><p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004191856569.png" alt="image-20211004191856569"></p>
<ul>
<li>工作区 <ul>
<li>当前所在目录就是工作区 </li>
</ul>
</li>
<li>暂存区 <ul>
<li>.git不算⼯作区，只是git的版本库 版本库中只有暂存区和⾃动创建的master分⽀及指向 master的⼀个指针HEAD </li>
<li>git跟踪的是每次修改⽽不是⽂件，如果不将修改添加到暂存区是⽆法进⾏提交的 </li>
</ul>
</li>
<li>.git隐藏⽬录中⽂件介绍</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">branches # 分支目录</span><br><span class="line">config # 定义项目特有的配置选项</span><br><span class="line">description # 仅供git web程序使用</span><br><span class="line">HEAD # 指示当前的分支</span><br><span class="line">hooks # 包含git钩子文件</span><br><span class="line">info # 包含一个全局排除文件</span><br><span class="line">objects # 本地仓库，存放所有的数据内容，有info和pack两个文件夹</span><br><span class="line">refs # 存放指向数据（分支）的提交对象的指针</span><br><span class="line">index # 保存暂存信息，在执行git init的时候，这个文件还没有</span><br></pre></td></tr></table></figure>

<h2 id="常规使用"><a href="#常规使用" class="headerlink" title="常规使用"></a>常规使用</h2><p>⼀般来说，⽇常使⽤只需要记住下图6个命令。但是熟练使⽤，恐怕要记住60-100个命令。</p>
<p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004192337216.png" alt="image-20211004192337216"></p>
<ul>
<li>把文件加到仓库中</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# echo &quot;hello world&quot; &gt; README.txt</span><br><span class="line">[root@server1 my_git]# git add README.txt</span><br><span class="line">[root@server1 my_git]# git commit -m &quot;write a README.txt file&quot;</span><br><span class="line">[master（根提交） 854d889] write a README.txt file</span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line">create mode 100644 README.txt</span><br><span class="line">[root@server1 my_git]#</span><br></pre></td></tr></table></figure>

<ul>
<li>修改文件内容，查询状态并提交</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# echo &quot;hello xk&quot; &gt;&gt; README.txt</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 尚未暂存以备提交的变更：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> （使用 <span class="string">&quot;git add &lt;file&gt;...&quot;</span> 更新要提交的内容）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> （使用 <span class="string">&quot;git checkout -- &lt;file&gt;...&quot;</span> 丢弃工作区的改动）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># 修改： README.txt</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="bash">修改尚未加入提交（使用 <span class="string">&quot;git add&quot;</span> 和/或 <span class="string">&quot;git commit -a&quot;</span>）</span></span><br><span class="line">[root@server1 my_git]# git add README.txt</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 要提交的变更：</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> （使用 <span class="string">&quot;git reset HEAD &lt;file&gt;...&quot;</span> 撤出暂存区）</span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="bash"><span class="comment"># 修改： README.txt</span></span></span><br><span class="line"><span class="meta">#</span><span class="bash"></span></span><br><span class="line"><span class="bash">[root@server1 my_git]<span class="comment"># git commit -m &quot;append hello xk to README.txt&quot;</span></span></span><br><span class="line">[master 176a262] append hello eagleslab to README.txt</span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line">无文件要提交，干净的工作区</span><br><span class="line"></span><br><span class="line">git commit -a 需要交互式输入注释信息</span><br></pre></td></tr></table></figure>

<ul>
<li>查询文件内容的变动情况</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# echo &quot;hello linux&quot; &gt;&gt; README.txt</span><br><span class="line">[root@server1 my_git]# git diff README.txt</span><br><span class="line">diff --git a/README.txt b/README.txt</span><br><span class="line">index c97f01c..b09e4cc 100644</span><br><span class="line">--- a/README.txt</span><br><span class="line">+++ b/README.txt</span><br><span class="line">@@ -1,2 +1,3 @@</span><br><span class="line">hello world</span><br><span class="line">hello eagleslab</span><br><span class="line">+hello linux</span><br><span class="line">[root@server1 my_git]# git commit -a -m &quot;append hello linux to README.txt&quot;</span><br><span class="line">[master ca3e26c] append hello linux to README.txt</span><br><span class="line">1 file changed, 1 insertion(+)</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line">无文件要提交，干净的工作区</span><br></pre></td></tr></table></figure>

<ul>
<li>查询历史记录并退回</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# git log</span><br><span class="line">commit ca3e26c8f13e11f487c569b3b099d27b7661d067</span><br><span class="line">Author: zj &lt;zj@qq.com&gt;</span><br><span class="line">Date: Tue Apr 20 20:36:01 2021 +0800</span><br><span class="line">append hello linux to README.txt</span><br><span class="line">commit 176a26251d17eee0ad37cefd35eeb945539cacb3</span><br><span class="line">Author: zj &lt;zj@qq.com&gt;</span><br><span class="line">Date: Tue Apr 20 20:33:05 2021 +0800</span><br><span class="line">append hello eagleslab to README.txt</span><br><span class="line">commit 854d889c17ce2aa90101a2f6d40a7be511e6b4b5</span><br><span class="line">Author: zj &lt;zj@qq.com&gt;</span><br><span class="line">Date: Tue Apr 20 20:29:49 2021 +0800</span><br><span class="line">write a README.txt file</span><br><span class="line">[root@server1 my_git]# git log --oneline</span><br><span class="line">ca3e26c append hello linux to README.txt</span><br><span class="line">176a262 append hello eagleslab to README.txt</span><br><span class="line">854d889 write a README.txt file</span><br><span class="line">[root@server1 my_git]# git reset --hard 176a262</span><br><span class="line">HEAD 现在位于 176a262 append hello eagleslab to README.txt</span><br><span class="line">[root@server1 my_git]# cat README.txt</span><br><span class="line">hello world</span><br><span class="line">hello eagleslab</span><br></pre></td></tr></table></figure>

<ul>
<li>查看所有历史记录</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# git log</span><br><span class="line">commit 176a26251d17eee0ad37cefd35eeb945539cacb3</span><br><span class="line">Author: zj &lt;zj@qq.com&gt;</span><br><span class="line">Date: Tue Apr 20 20:33:05 2021 +0800</span><br><span class="line">append hello eagleslab to README.txt</span><br><span class="line">commit 854d889c17ce2aa90101a2f6d40a7be511e6b4b5</span><br><span class="line">Author: zj &lt;zj@qq.com&gt;</span><br><span class="line">Date: Tue Apr 20 20:29:49 2021 +0800</span><br><span class="line">write a README.txt file</span><br><span class="line">[root@server1 my_git]# git reflog</span><br><span class="line">176a262 HEAD@&#123;0&#125;: reset: moving to 176a262</span><br><span class="line">ca3e26c HEAD@&#123;1&#125;: commit: append hello linux to README.txt</span><br><span class="line">176a262 HEAD@&#123;2&#125;: commit: append hello eagleslab to README.txt</span><br><span class="line">854d889 HEAD@&#123;3&#125;: commit (initial): write a README.txt file</span><br></pre></td></tr></table></figure>

<ul>
<li>修改文件名称</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">方式一</span><br><span class="line">[root@server1 my_git]# mv README.txt readme.txt</span><br><span class="line">[root@server1 my_git]# git add readme.txt</span><br><span class="line">[root@server1 my_git]# git commit -m &quot;rename README.txt to readme.txt&quot;</span><br><span class="line">[master bc08fbb] rename README.txt to readme.txt</span><br><span class="line">1 file changed, 2 insertions(+)</span><br><span class="line">create mode 100644 readme.txt</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line">无文件要提交，干净的工作区</span><br><span class="line">方式二</span><br><span class="line">[root@server1 my_git]# git mv readme.txt README.txt</span><br><span class="line">[root@server1 my_git]# git commit -a -m &quot;rename readme.txt to README.txt&quot;</span><br><span class="line">[master 6599d6c] rename readme.txt to README.txt</span><br><span class="line">1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line">rename readme.txt =&gt; README.txt (100%)</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line">无文件要提交，干净的工作区</span><br><span class="line">[root@server1 my_git]# ls</span><br><span class="line">README.txt</span><br><span class="line">[root@server1 my_git]#</span><br></pre></td></tr></table></figure>

<ul>
<li>删除文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# git rm README.txt</span><br><span class="line">rm &#x27;README.txt&#x27;</span><br><span class="line">[root@server1 my_git]# git commit -m &quot;delete README.txt&quot;</span><br><span class="line">[master 84b4a87] delete README.txt</span><br><span class="line">1 file changed, 2 deletions(-)</span><br><span class="line">delete mode 100644 README.txt</span><br><span class="line">[root@server1 my_git]# git status</span><br><span class="line"><span class="meta">#</span><span class="bash"> 位于分支 master</span></span><br><span class="line">无文件要提交，干净的工作区</span><br><span class="line">[root@server1 my_git]# ls</span><br></pre></td></tr></table></figure>

<ul>
<li>停止跟踪文件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@server1 my_git]# git log --oneline</span><br><span class="line">84b4a87 delete README.txt</span><br><span class="line">6599d6c rename readme.txt to README.txt</span><br><span class="line">bc08fbb rename README.txt to readme.txt</span><br><span class="line">8df8928 rename README.txt to readme.txt</span><br><span class="line">176a262 append hello eagleslab to README.txt</span><br><span class="line">854d889 write a README.txt file</span><br><span class="line">[root@server1 my_git]# git reset --hard 6599d6c</span><br><span class="line">HEAD 现在位于 6599d6c rename readme.txt to README.txt</span><br><span class="line">[root@server1 my_git]# ls</span><br><span class="line">README.txt</span><br><span class="line">[root@server1 my_git]# git rm README.txt --cached</span><br><span class="line">rm &#x27;README.txt&#x27;</span><br><span class="line">[root@server1 my_git]# ls</span><br><span class="line">README.txt</span><br><span class="line">[root@server1 my_git]# git commit -m &quot;delete README.txt cached&quot;</span><br><span class="line">[master 4e3d233] delete README.txt cached</span><br><span class="line">1 file changed, 2 deletions(-)</span><br><span class="line">delete mode 100644 README.txt</span><br><span class="line">[root@server1 my_git]# ls</span><br><span class="line">README.txt</span><br><span class="line">[root@server1 my_git]#</span><br></pre></td></tr></table></figure>

<h2 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h2><blockquote>
<p>分支就是平行空间，假设你在某个手机系统研发拍照功能，代码已经完成了80%，但 如果将这不 完整的代码直接提交到git仓库中，又有可能影响到其他人的工作，此时我们便可以在该软件的项 目之上创建一个名叫拍照的分支，这种分支只会属于你自己，而其他人看不到，等代码编写完成后 再与原来的项目主分支合并即可，这样既能保证代码不丢失，又不影响其他人工作。 </p>
<p>一般在实际的项目开发中，尽量保持master分支是非常稳定的，仅用于发布新版本，平时不要随 便直接修改里面的数据文件，而工作的时候则可以新建不同的工作分支，等到工作完成后再合并到 master分支上面，所以团队的合作分支看起来会像很多树枝一样。</p>
</blockquote>
<p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211004210027182.png" alt="image-20211004210027182"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 列出所有本地分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有远程分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -r</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有本地分⽀和远程分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -a</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个分⽀，但依然停留在当前分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch-name]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个分⽀，并切换到该分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b [branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个分⽀，指向指定commit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch] [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个分⽀，与指定的远程分⽀建⽴追踪关系</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --track [branch] [remote-branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到指定分⽀，并更新⼯作区</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [branch-name]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换到上⼀个分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 建⽴追踪关系，在现有分⽀与指定的远程分⽀之间</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --set-upstream [branch] [remote-branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 合并指定分⽀到当前分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge [branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 选择⼀个commit，合并进当前分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git cherry-pick [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -d [branch-name]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除远程分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin --delete [branch-name]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -dr [remote/branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 检出版本v2.0</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout v2.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 从远程分⽀develop创建新本地分⽀devel并检出</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b devel origin/develop</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 检出head版本的README⽂件（可⽤于修改错误回退）</span></span><br><span class="line">git checkout -- README</span><br></pre></td></tr></table></figure>

<h2 id="标签使用"><a href="#标签使用" class="headerlink" title="标签使用"></a>标签使用</h2><blockquote>
<p>标签也是指向了一次commit提交，是一个里程碑式的标签，回滚打标签直接加标签号，不需要加 唯一字符串。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 给当前状态打标签</span></span><br><span class="line">git tag -a v1.0 -m &quot; version 1.0&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 指定某次状态打标签</span></span><br><span class="line">git tag -a v2.0 [哈希值] -m &quot;version 2.0&quot;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看所有标签信息</span></span><br><span class="line">git tag</span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看指定标签信息</span></span><br><span class="line">git show v1.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除标签</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag -d v1.0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 以标签回滚</span></span><br><span class="line">git reset --hard v2.0</span><br><span class="line"><span class="meta">#</span><span class="bash"> 列出所有tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个tag在当前commit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag [tag]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个tag在指定commit</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag [tag] [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除本地tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git tag -d [tag]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除远程tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin :refs/tags/[tagName]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看tag信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [tag]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交指定tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] [tag]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 提交所有tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --tags</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个分⽀，指向某个tag</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b [branch] [tag]</span></span><br></pre></td></tr></table></figure>

<h2 id="远程同步"><a href="#远程同步" class="headerlink" title="远程同步"></a>远程同步</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 下载远程仓库的所有变动</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git fetch [remote]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示所有远程仓库</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 显示某个远程仓库的信息</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote show [remote]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 增加⼀个新的远程仓库，并命名</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add [shortname] [url]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 取回远程仓库的变化，并与本地分⽀合并</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git pull [remote] [branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 上传本地指定分⽀到远程仓库</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] [branch]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 强⾏推送当前分⽀到远程仓库，即使有冲突</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --force</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 推送所有分⽀到远程仓库</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --all</span></span><br></pre></td></tr></table></figure>

<h2 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 恢复暂存区的指定⽂件到⼯作区</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [file]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 恢复某个commit的指定⽂件到暂存区和⼯作区</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [commit] [file]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 恢复暂存区的所有⽂件到⼯作区</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout .</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置暂存区的指定⽂件，与上⼀次commit保持⼀致，但⼯作区不变</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [file]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置暂存区与⼯作区，与上⼀次commit保持⼀致</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前分⽀的指针为指定commit，同时重置暂存区，但⼯作区不变</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前分⽀的HEAD为指定commit，同时重置暂存区和⼯作区，与指定commit⼀致</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 重置当前HEAD为指定commit，但保持暂存区和⼯作区不变</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --keep [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 新建⼀个commit，⽤来撤销指定commit</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 后者的所有变化都将被前者抵消，并且应⽤到当前分⽀</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git revert [commit]</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 暂时将未提交的变化移除，稍后再移⼊</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br></pre></td></tr></table></figure>

<h2 id="其他git操作"><a href="#其他git操作" class="headerlink" title="其他git操作"></a>其他git操作</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">git init # 初始化本地git仓库</span><br><span class="line">（创建新仓库）</span><br><span class="line">git config --global user.name &quot;xxx&quot; # 配置用户名</span><br><span class="line">git config --global user.email &quot;xxx@xxx.com&quot; # 配置邮件</span><br><span class="line">git config --global color.ui true # git status等命令</span><br><span class="line">自动着色</span><br><span class="line">git config --global color.status auto</span><br><span class="line">git config --global color.diff auto</span><br><span class="line">git config --global color.branch auto</span><br><span class="line">git config --global color.interactive auto</span><br><span class="line">git config --global --unset http.proxy # remove proxy</span><br><span class="line">configuration on git</span><br><span class="line">git clone git+ssh://git@192.168.53.168/VT.git # clone远程仓库</span><br><span class="line">git status # 查看当前版本状态</span><br><span class="line">（是否修改）</span><br><span class="line">git add xyz # 添加xyz文件至index</span><br><span class="line">git add . # 增加当前子目录下所</span><br><span class="line">有更改过的文件至index</span><br><span class="line">git commit -m &#x27;xxx&#x27; # 提交</span><br><span class="line">git commit --amend -m &#x27;xxx&#x27; # 合并上一次提交（用于反复修改）</span><br><span class="line">git commit -am &#x27;xxx&#x27; # 将add和commit合为一步</span><br><span class="line">git rm xxx</span><br><span class="line">git rm -r * # 递归删除</span><br><span class="line">git log # 显示提交日志</span><br><span class="line">git log -1 # 显示1行日志 -n为n行</span><br><span class="line">git log -5</span><br><span class="line">git log --stat # 显示提交日志及相关变动文件</span><br><span class="line">git log -p -m</span><br><span class="line">git show dfb02e6e4f2f7b573337763e5c0013802e392818 # 显示某个提交的详细内容</span><br><span class="line">git show dfb02 # 可只用commitid的前几位</span><br><span class="line">git show HEAD # 显示HEAD提交日志</span><br><span class="line">git show HEAD^ # 显示HEAD的父（上一个版本）的提交日志 ^^为上两个版本 ^5为上5个版本</span><br><span class="line">git tag # 显示已存在的tag</span><br><span class="line">git tag -a v2.0 -m &#x27;xxx&#x27; # 增加v2.0的tag</span><br><span class="line">git show v2.0 # 显示v2.0的日志及详细内容</span><br><span class="line">git log v2.0 # 显示v2.0的日志</span><br><span class="line">git diff # 显示所有未添加至index的变更</span><br><span class="line">git diff --cached # 显示所有已添加index但还未commit的变更</span><br><span class="line">git diff HEAD^ # 比较与上一个版本的差异</span><br><span class="line">git diff HEAD -- ./lib # 比较与HEAD版本lib目录的差异</span><br><span class="line">git diff origin/master..master # 比较远程分支master上有本地分支master上没有的</span><br><span class="line">git diff origin/master..master --stat # 只显示差异的文件，不显示具体内容</span><br><span class="line">git remote add origin git+ssh://git@192.168.53.168/VT.git # 增加远程定义（用于push/pull/fetch）</span><br><span class="line">git branch # 显示本地分支</span><br><span class="line">git branch --contains 50089 # 显示包含提交50089</span><br><span class="line">的分支</span><br><span class="line">git branch -a # 显示所有分支</span><br><span class="line">git branch -r # 显示所有原创分支</span><br><span class="line">git branch --merged # 显示所有已合并到当前分支的分支</span><br><span class="line">git branch --no-merged # 显示所有未合并到当前分支的分支</span><br><span class="line">git branch -m master master_copy # 本地分支改名</span><br><span class="line">git checkout -b master_copy # 从当前分支创建新分支master_copy并检出</span><br><span class="line">git checkout -b master master_copy # 上面的完整版</span><br><span class="line">git checkout features/performance # 检出已存在的features/performance分支</span><br><span class="line">git checkout --track hotfixes/BJVEP933 # 检出远程分支hotfixes/BJVEP933并创建本地跟踪分支</span><br><span class="line">git checkout v2.0 # 检出版本v2.0</span><br><span class="line">git checkout -b devel origin/develop # 从远程分支develop创建新本地分支devel并检出</span><br><span class="line">git checkout -- README # 检出head版本的</span><br><span class="line">README文件（可用于修改错误回退）</span><br><span class="line">git merge origin/master # 合并远程master分支至当前分支</span><br><span class="line">git cherry-pick ff44785404a8e # 合并提交ff44785404a8e的修改</span><br><span class="line">git push origin master # 将当前分支push到远程master分支</span><br><span class="line">git push origin :hotfixes/BJVEP933 # 删除远程仓库的hotfixes/BJVEP933分支</span><br><span class="line">git push --tags # 把所有tag推送到远程仓库</span><br><span class="line">git fetch # 获取所有远程分支（不更新本地分支，另需merge）</span><br><span class="line">git fetch --prune # 获取所有原创分支并清除服务器上已删掉的分支</span><br><span class="line">git pull origin master # 获取远程分支master并merge到当前分支</span><br><span class="line">git mv README README2 # 重命名文件README为README2</span><br><span class="line">git reset --hard HEAD # 将当前版本重置为HEAD（通常用于merge失败回退）</span><br><span class="line">git rebase</span><br><span class="line">git branch -d hotfixes/BJVEP933 # 删除分支hotfixes/BJVEP933（本分支修改已合并到其他分支）</span><br><span class="line">git branch -D hotfixes/BJVEP933 # 强制删除分支hotfixes/BJVEP933</span><br><span class="line">git ls-files # 列出git index包含的文件</span><br><span class="line">git show-branch # 图示当前分支历史</span><br><span class="line">git show-branch --all # 图示所有分支历史</span><br><span class="line">git whatchanged # 显示提交历史对应的文件修改</span><br><span class="line">git revert dfb02e6e4f2f7b573337763e5c0013802e392818 # 撤销提交dfb02e6e4f2f7b573337763e5c0013802e392818</span><br><span class="line">git ls-tree HEAD # 内部命令：显示某个</span><br><span class="line">git对象</span><br><span class="line">git rev-parse v2.0 # 内部命令：显示某个ref对于的SHA1 HASH</span><br><span class="line">git reflog # 显示所有提交，包括</span><br><span class="line">孤立节点</span><br><span class="line">git show HEAD@&#123;5&#125;</span><br><span class="line">git show master@&#123;yesterday&#125; # 显示master分支昨天的状态</span><br><span class="line">git log --pretty=format:&#x27;%h %s&#x27; --graph # 图示提交日志</span><br><span class="line">git show HEAD~3</span><br><span class="line">git show -s --pretty=raw 2be7fcb476</span><br><span class="line">git stash # 暂存当前修改，将所有至为HEAD状态</span><br><span class="line">git stash list # 查看所有暂存</span><br><span class="line">git stash show -p stash@&#123;0&#125; # 参考第一次暂存</span><br><span class="line">git stash apply stash@&#123;0&#125; # 应用第一次暂存</span><br><span class="line">git grep &quot;delete from&quot; # 文件中搜索文本“delete from”</span><br><span class="line">git grep -e &#x27;#define&#x27; --and -e SORT_DIRENT</span><br><span class="line">git gc</span><br><span class="line">git fsck</span><br><span class="line"><span class="meta">#</span><span class="bash"> 生成一个可供发布的压缩包</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git archive</span></span><br></pre></td></tr></table></figure>

<h1 id="GitHub"><a href="#GitHub" class="headerlink" title="GitHub"></a>GitHub</h1><p>GitHub故名思义是一个git版本库的托管服务，是目前全球最大的软件仓库，拥有成千上百万的开发者用 户，也是软件开发和寻找资源的最佳途径，GitHub不仅可以托管各种git版本库，还拥有更美观的web界 面，你的代码可以被任何人克隆，使得开发者为开源贡献代码变得更加容易，当然也可以付费够没私有 库，这样高性价比的私有库真的是帮助到了很多企业。 </p>
<ol>
<li>注册用户 </li>
<li>配置ssh-key</li>
</ol>
<p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094209913.png" alt="image-20211005094209913"></p>
<ol start="3">
<li>创建项目</li>
</ol>
<p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094400488.png" alt="image-20211005094400488"></p>
<ol start="5">
<li>添加远程仓库</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin git@github.com:bbj1030/testing.git</span><br></pre></td></tr></table></figure>

<ol start="6">
<li>推送新代码到GitHub</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<ol start="7">
<li>克隆项目到本地</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github.com:bbj1030/testing.git</span><br></pre></td></tr></table></figure>



<h1 id="Gitlab"><a href="#Gitlab" class="headerlink" title="Gitlab"></a>Gitlab</h1><p><a target="_blank" rel="noopener" href="https://my.oschina.net/u/4325773/blog/3339131">GitLab - 安装并启动GitLab </a></p>
<p><a target="_blank" rel="noopener" href="https://ken.io/note/centos7-gitlab-install-tutorial">CentOS 7 下 GitLab安装部署教程 - Ken的杂谈</a></p>
<ul>
<li>安装依赖关系</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y curl openssh-server policycoreutils-python</span><br><span class="line">systemctl enable sshd</span><br><span class="line">systemctl start sshd</span><br><span class="line">firewall-cmd --permanent --add-service=http</span><br><span class="line">systemctl reload firewall</span><br></pre></td></tr></table></figure>

<ul>
<li>下载安装包(rpm)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-10.0.0-</span><br><span class="line">ce.0.el7.x86_64.rpm</span><br><span class="line">rpm -ivh [包名]</span><br></pre></td></tr></table></figure>

<ul>
<li>yum安装</li>
<li>修改配置文件并启动gitlab</li>
</ul>
<p><img src="/2021/10/04/git%E5%8F%8Agithub/git%E5%8F%8Agithub%5Cimage-20211005094919196.png" alt="image-20211005094919196"></p>
<ul>
<li>日常管理命令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl start</span><br><span class="line">gitlab-ctl stop</span><br><span class="line">gitlab-ctl status</span><br><span class="line">gitlab-ctl restart</span><br><span class="line">gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>

<ul>
<li>简单使用<ul>
<li>root登录gitlab </li>
<li>创建test组 </li>
<li>创建test项目 </li>
<li>添加ssh密钥 </li>
<li>添加新用户 </li>
<li>将新用户添加到组里 </li>
<li>新用户登录就可以拥有项目代码</li>
</ul>
</li>
</ul>
<h1 id="1-GitLab安装"><a href="#1-GitLab安装" class="headerlink" title="1 - GitLab安装"></a>1 - GitLab安装</h1><h2 id="1-1-信息确认"><a href="#1-1-信息确认" class="headerlink" title="1.1 信息确认"></a>1.1 信息确认</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[Anliven@node102 ~]$ uname -a</span><br><span class="line">Linux node102 3.10.0-957.el7.x86_64 #1 SMP Thu Nov 8 23:39:32 UTC 2018 x86_64 x86_64 x86_64 GNU/Linux</span><br><span class="line">[Anliven@node102 ~]$ cat /etc/system-release</span><br><span class="line">CentOS Linux release 7.5.1804 (Core) </span><br><span class="line">[Anliven@node102 ~]$ </span><br></pre></td></tr></table></figure>



<h2 id="1-2-准备步骤"><a href="#1-2-准备步骤" class="headerlink" title="1.2 准备步骤"></a>1.2 准备步骤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 安装依赖</span><br><span class="line">sudo yum install -y curl policycoreutils-python openssh-server postfix</span><br><span class="line"></span><br><span class="line"># 启动SSH和postfix</span><br><span class="line">sudo systemctl enable sshd</span><br><span class="line">sudo systemctl start sshd</span><br><span class="line">sudo systemctl enable postfix</span><br><span class="line">sudo systemctl start postfix</span><br><span class="line"></span><br><span class="line"># 开放端口</span><br><span class="line">sudo firewall-cmd --add-service=ssh --permanent</span><br><span class="line">sudo firewall-cmd --add-service=http --permanent</span><br><span class="line">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>



<h2 id="1-3-安装方式1：Yum"><a href="#1-3-安装方式1：Yum" class="headerlink" title="1.3 安装方式1：Yum"></a>1.3 安装方式1：Yum</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br><span class="line">sudo yum install -y gitlab-ce</span><br></pre></td></tr></table></figure>

<p><img src="https://oscimg.oschina.net/oscnet/ccee2f54a7c2274ebbc0d71d03f81ac2862.png" alt="img"></p>
<h2 id="1-4-安装方式2：下载并安装rpm包"><a href="#1-4-安装方式2：下载并安装rpm包" class="headerlink" title="1.4 安装方式2：下载并安装rpm包"></a>1.4 安装方式2：下载并安装rpm包</h2><p>清华镜像：<a target="_blank" rel="noopener" href="https://www.oschina.net/action/GoToLink?url=https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/">https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/</a> <img src="https://oscimg.oschina.net/oscnet/56d0b2899b1f8482365e1434936dac4544e.png" alt="img"></p>
<p>注意：可以单独下载RPM包，然后上传到Server，要节约时间点。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/yum/el7/gitlab-ce-12.5.0-ce.0.el7.x86_64.rpm</span><br><span class="line">rpm -i gitlab-ce-12.5.0-ce.0.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>

<p><img src="https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091356202-302794253.png" alt="img"></p>
<h1 id="2-初始化配置"><a href="#2-初始化配置" class="headerlink" title="2 - 初始化配置"></a>2 - 初始化配置</h1><p>GitLab默认的配置文件路径：/etc/gitlab/</p>
<ul>
<li>/etc/gitlab/gitlab.rb：主配置文件，包含外部URL、仓库目录、备份目录等</li>
<li>/etc/gitlab/gitlab-secrets.json：（执行gitlab-ctl reconfigure命令行后生成），包含各类密钥的加密信息</li>
</ul>
<h2 id="2-1-初始化配置"><a href="#2-1-初始化配置" class="headerlink" title="2.1 初始化配置"></a>2.1 初始化配置</h2><ul>
<li>配置首页地址（需将设置的域名DNS解析到服务器IP，或者修改本地host将域名指向服务器IP）</li>
<li>修改服务端口，避免和其他服务端口冲突</li>
<li>重新配置并启动，使配置生效，并确认相关组件或进程的状态</li>
<li>设置账号密码和管理员信息</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line">[root@node102 ~]# ll /etc/gitlab/</span><br><span class="line">total 96</span><br><span class="line">-rw------- 1 root root 97727 Nov 26 23:05 gitlab.rb</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# cat /etc/gitlab/gitlab.rb |grep -v &quot;#&quot; |grep -Ev &quot;^$&quot;</span><br><span class="line">external_url &#x27;http://gitlab.example.com&#x27;</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# vim /etc/gitlab/gitlab.rb</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# cat /etc/gitlab/gitlab.rb |grep -v &quot;#&quot; |grep -Ev &quot;^$&quot;</span><br><span class="line">external_url &#x27;http://192.168.16.102&#x27;</span><br><span class="line">unicorn[&#x27;listen&#x27;] = &#x27;192.168.16.102&#x27;</span><br><span class="line">unicorn[&#x27;port&#x27;] = 8081</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@test102 ~]# gitlab-ctl diff-config</span><br><span class="line">diff --git a/etc/gitlab/gitlab.rb b/opt/gitlab/etc/gitlab.rb.template</span><br><span class="line">index 3e27e40..31c0b45 100644</span><br><span class="line">--- a/etc/gitlab/gitlab.rb</span><br><span class="line">+++ b/opt/gitlab/etc/gitlab.rb.template</span><br><span class="line">@@ -20,7 +20,7 @@</span><br><span class="line"> ##! URL on which GitLab will be reachable.</span><br><span class="line"> ##! For more details on configuring external_url see:</span><br><span class="line"> ##! https://docs.gitlab.com/omnibus/settings/configuration.html#configuring-the-external-url-for-gitlab</span><br><span class="line">-external_url &#x27;http://192.168.16.102&#x27;</span><br><span class="line">+external_url &#x27;GENERATED_EXTERNAL_URL&#x27;</span><br><span class="line"> </span><br><span class="line"> ## Roles for multi-instance GitLab</span><br><span class="line"> ##! The default is to have no roles enabled, which results in GitLab running as an all-in-one instance.</span><br><span class="line">@@ -740,8 +740,8 @@ external_url &#x27;http://192.168.16.102&#x27;</span><br><span class="line"> # unicorn[&#x27;worker_processes&#x27;] = 2</span><br><span class="line"> </span><br><span class="line"> ### Advanced settings</span><br><span class="line">-unicorn[&#x27;listen&#x27;] = &#x27;192.168.16.102&#x27;</span><br><span class="line">-unicorn[&#x27;port&#x27;] = 8081</span><br><span class="line">+# unicorn[&#x27;listen&#x27;] = &#x27;localhost&#x27;</span><br><span class="line">+# unicorn[&#x27;port&#x27;] = 8080</span><br><span class="line"> # unicorn[&#x27;socket&#x27;] = &#x27;/var/opt/gitlab/gitlab-rails/sockets/gitlab.socket&#x27;</span><br><span class="line"> # unicorn[&#x27;pidfile&#x27;] = &#x27;/opt/gitlab/var/unicorn/unicorn.pid&#x27;</span><br><span class="line"> # unicorn[&#x27;tcp_nopush&#x27;] = true</span><br><span class="line">[root@test102 ~]# </span><br><span class="line">[root@node102 ~]#  firewall-cmd --zone=public --permanent --add-port=8081/tcp</span><br><span class="line">success</span><br><span class="line">[root@node102 ~]# firewall-cmd --reload</span><br><span class="line">success</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# firewall-cmd --list-all</span><br><span class="line">public (active)</span><br><span class="line">  target: default</span><br><span class="line">  icmp-block-inversion: no</span><br><span class="line">  interfaces: enp0s3 enp0s8</span><br><span class="line">  sources: </span><br><span class="line">  services: ssh dhcpv6-client http</span><br><span class="line">  ports: 8081/tcp</span><br><span class="line">  protocols: </span><br><span class="line">  masquerade: no</span><br><span class="line">  forward-ports: </span><br><span class="line">  source-ports: </span><br><span class="line">  icmp-blocks: </span><br><span class="line">  rich rules: </span><br><span class="line">    </span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# gitlab-ctl reconfigure</span><br><span class="line">Starting Chef Client, version 14.13.11</span><br><span class="line">resolving cookbooks for run list: [&quot;gitlab&quot;]</span><br><span class="line">Synchronizing Cookbooks:</span><br><span class="line">  - gitlab (0.0.1)</span><br><span class="line">  - package (0.1.0)</span><br><span class="line">  - postgresql (0.1.0)</span><br><span class="line">  - redis (0.1.0)</span><br><span class="line">  - monitoring (0.1.0)</span><br><span class="line">  - registry (0.1.0)</span><br><span class="line">  - mattermost (0.1.0)</span><br><span class="line">  - consul (0.1.0)</span><br><span class="line">  - gitaly (0.1.0)</span><br><span class="line">  - nginx (0.1.0)</span><br><span class="line">  - praefect (0.1.0)</span><br><span class="line">  - letsencrypt (0.1.0)</span><br><span class="line">  - runit (4.3.0)</span><br><span class="line">  - acme (4.0.0)</span><br><span class="line">  - crond (0.1.0)</span><br><span class="line">Installing Cookbook Gems:</span><br><span class="line">Compiling Cookbooks...</span><br><span class="line">Recipe: gitlab::default</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">Recipe: &lt;Dynamically Defined Resource&gt;</span><br><span class="line">  * service[alertmanager] action restart</span><br><span class="line">    - restart service service[alertmanager]</span><br><span class="line">  * service[postgres-exporter] action restart</span><br><span class="line">    - restart service service[postgres-exporter]</span><br><span class="line">  * service[grafana] action restart</span><br><span class="line">    - restart service service[grafana]</span><br><span class="line">Running handlers:</span><br><span class="line">Running handlers complete</span><br><span class="line">Chef Client finished, 543/1455 resources updated in 04 minutes 09 seconds</span><br><span class="line">gitlab Reconfigured!</span><br><span class="line">[root@node102 ~]# </span><br><span class="line">[root@node102 ~]# gitlab-ctl status</span><br><span class="line">run: alertmanager: (pid 6469) 45s; run: log: (pid 6123) 128s</span><br><span class="line">run: gitaly: (pid 6335) 50s; run: log: (pid 5516) 263s</span><br><span class="line">run: gitlab-exporter: (pid 6380) 48s; run: log: (pid 5972) 146s</span><br><span class="line">run: gitlab-workhorse: (pid 6358) 49s; run: log: (pid 5882) 174s</span><br><span class="line">run: grafana: (pid 6529) 44s; run: log: (pid 6273) 74s</span><br><span class="line">run: logrotate: (pid 5920) 159s; run: log: (pid 5929) 158s</span><br><span class="line">run: nginx: (pid 5893) 171s; run: log: (pid 5905) 167s</span><br><span class="line">run: node-exporter: (pid 6367) 49s; run: log: (pid 5960) 152s</span><br><span class="line">run: postgres-exporter: (pid 6488) 45s; run: log: (pid 6150) 121s</span><br><span class="line">run: postgresql: (pid 5632) 255s; run: log: (pid 5644) 254s</span><br><span class="line">run: prometheus: (pid 6406) 47s; run: log: (pid 6080) 132s</span><br><span class="line">run: redis: (pid 5471) 272s; run: log: (pid 5479) 271s</span><br><span class="line">run: redis-exporter: (pid 6384) 48s; run: log: (pid 6003) 140s</span><br><span class="line">run: sidekiq: (pid 5842) 183s; run: log: (pid 5853) 180s</span><br><span class="line">run: unicorn: (pid 5803) 189s; run: log: (pid 5835) 186s</span><br><span class="line">[root@node102 ~]#  </span><br></pre></td></tr></table></figure>



<h2 id="2-2-登录"><a href="#2-2-登录" class="headerlink" title="2.2 登录"></a>2.2 登录</h2><p><a target="_blank" rel="noopener" href="https://www.oschina.net/action/GoToLink?url=http://192.168.16.102">http://192.168.16.102</a>  注意：这个地址是“external_url ‘<a target="_blank" rel="noopener" href="https://www.oschina.net/action/GoToLink?url=http://192.168.16.102%27%E2%80%9D">http://192.168.16.102’”</a> 首次登录显示为密码设置界面，设置管理员密码，管理员账号默认username是root 设置完成之后，刷新即可使用root账号登录，登陆后会进入欢迎界面。 <img src="https://oscimg.oschina.net/oscnet/082523ed439a3af0886d0c4bf7b82c073ae.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/241ae66982614ef9ec1d281b3104dcfcb4a.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/a849e01ec9c46173323d328d7bcad91928d.png" alt="img"></p>
<h2 id="2-3-更新管理员资料"><a href="#2-3-更新管理员资料" class="headerlink" title="2.3 更新管理员资料"></a>2.3 更新管理员资料</h2><p><img src="https://oscimg.oschina.net/oscnet/05dac82e76b02b209b014b4973809ceaf51.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/475e9a076e6a15b8eee53e34f5cd0097a70.png" alt="img"></p>
<h2 id="2-4-查看管理员面板"><a href="#2-4-查看管理员面板" class="headerlink" title="2.4 查看管理员面板"></a>2.4 查看管理员面板</h2><p>Admin Area的主面板显示整体数据，左侧导航菜单可以查看具体的分类信息 <img src="https://oscimg.oschina.net/oscnet/d0ffc56f331693c6d986a5fe287db2926d2.png" alt="img"> <img src="https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091702996-871710264.png" alt="img"></p>
<h2 id="2-5-创建新用户"><a href="#2-5-创建新用户" class="headerlink" title="2.5 创建新用户"></a>2.5 创建新用户</h2><h3 id="方式1：管理员直接创建用户"><a href="#方式1：管理员直接创建用户" class="headerlink" title="方式1：管理员直接创建用户"></a>方式1：管理员直接创建用户</h3><p>Admin Area —》New user，根据规则和需要分别设置Account、Access部分，Password部分可以由本人进行设置。 <img src="https://oscimg.oschina.net/oscnet/b21c486e27ab6d6e182657419eb610ba27d.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/cc7ad6b23f1846889cac912741f5fcd9c81.png" alt="img"> <img src="https://img2018.cnblogs.com/blog/819128/201912/819128-20191204091809971-1593406562.png" alt="img"></p>
<p>查看邮箱，点击邮件中的链接，设置密码并登陆 <img src="https://oscimg.oschina.net/oscnet/f8a93470b0e06506a26b8372851b50f8006.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/fd03c0d3a7e54809c550870ecaf4260b2d0.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/e77abba16bf112093ff29e627d32a7091b9.png" alt="img"></p>
<h3 id="方式2：用户直接注册新的账户"><a href="#方式2：用户直接注册新的账户" class="headerlink" title="方式2：用户直接注册新的账户"></a>方式2：用户直接注册新的账户</h3><p>在GitLab登录界面，直接点击“Register”，添加用户相关信息。 <img src="https://oscimg.oschina.net/oscnet/9183aaedb51cf5a41dd66b5e685a7c4db70.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/6dbd59453e9a2c082d9cc2fa2ba91edaf63.png" alt="img"></p>
<h1 id="3-GitLab常用配置"><a href="#3-GitLab常用配置" class="headerlink" title="3 - GitLab常用配置"></a>3 - GitLab常用配置</h1><h2 id="3-1-配置Git存储仓库目录"><a href="#3-1-配置Git存储仓库目录" class="headerlink" title="3.1 配置Git存储仓库目录"></a>3.1 配置Git存储仓库目录</h2><p>默认存储目录为/var/opt/gitlab/git-data/repositories</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# ll /var/opt/gitlab/git-data/</span><br><span class="line">total 0</span><br><span class="line">drwxrws--- 3 git root 45 Nov 27 13:53 </span><br><span class="line">[root@test102 ~]#</span><br></pre></td></tr></table></figure>

<p>如果要更新或增加存储仓库目录，可以修改/etc/gitlab/gitlab.rb配置文件中git_data_dirs部分的内容，然后执行“gitlab-ctl reconfigure”命令使之生效。 例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git_data_dirs(&#123;</span><br><span class="line">  &quot;default&quot; =&gt; &#123;&quot;path&quot; =&gt; &quot;/var/opt/gitlab/git-data&quot;&#125;</span><br><span class="line">  &quot;newrepo&quot; =&gt; &#123;&quot;path&quot; =&gt; &quot;/mnt/nfs-01/git-data&quot;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>特别注意：</p>
<ul>
<li>如果修改仓库目录，用户有权限访问，否则重新配置时会报错。</li>
<li>修改仓库目录后，必须将旧仓库的数据迁移到新目录下，否则相关项目会提示“没有仓库”。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo gitlab-ctl upgrade  # 组件更新（可选）</span><br><span class="line">sudo gitlab-ctl stop  # 停止服务</span><br><span class="line">sudo rsync -av &lt;old-dir&gt;  &lt;new-dir&gt;/  # 目录同步（注意斜杠的作用）</span><br><span class="line">ls &lt;new-dir&gt;  # 检查文件及目录层级</span><br><span class="line">sudo gitlab-ctl start  # 启动服务</span><br><span class="line">sudo gitlab-ctl reconfigure  # 重配置</span><br></pre></td></tr></table></figure>



<h2 id="3-2-配置邮件SMTP"><a href="#3-2-配置邮件SMTP" class="headerlink" title="3.2 配置邮件SMTP"></a>3.2 配置邮件SMTP</h2><p>GitLab可以直接发送邮件，但如果内网对网络访问有限制，就需要配置内部的SMTP服务来发送邮件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# cat -n /etc/gitlab/gitlab.rb |grep smtp</span><br><span class="line">   559  ###! Docs: https://docs.gitlab.com/omnibus/settings/smtp.html</span><br><span class="line">   560  ###! **Use smtp instead of sendmail/postfix.**</span><br><span class="line">   562  # gitlab_rails[&#x27;smtp_enable&#x27;] = true</span><br><span class="line">   563  # gitlab_rails[&#x27;smtp_address&#x27;] = &quot;smtp.server&quot;</span><br><span class="line">   564  # gitlab_rails[&#x27;smtp_port&#x27;] = 465</span><br><span class="line">   565  # gitlab_rails[&#x27;smtp_user_name&#x27;] = &quot;smtp user&quot;</span><br><span class="line">   566  # gitlab_rails[&#x27;smtp_password&#x27;] = &quot;smtp password&quot;</span><br><span class="line">   567  # gitlab_rails[&#x27;smtp_domain&#x27;] = &quot;example.com&quot;</span><br><span class="line">   568  # gitlab_rails[&#x27;smtp_authentication&#x27;] = &quot;login&quot;</span><br><span class="line">   569  # gitlab_rails[&#x27;smtp_enable_starttls_auto&#x27;] = true</span><br><span class="line">   570  # gitlab_rails[&#x27;smtp_tls&#x27;] = false</span><br><span class="line">   574  # gitlab_rails[&#x27;smtp_openssl_verify_mode&#x27;] = &#x27;none&#x27;</span><br><span class="line">   576  # gitlab_rails[&#x27;smtp_ca_path&#x27;] = &quot;/etc/ssl/certs&quot;</span><br><span class="line">   577  # gitlab_rails[&#x27;smtp_ca_file&#x27;] = &quot;/etc/ssl/certs/ca-certificates.crt&quot;</span><br><span class="line">[root@test102 ~]# </span><br></pre></td></tr></table></figure>

<p>此外，也可以修改邮件的默认发送地址、显示名称等信息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# cat -n /etc/gitlab/gitlab.rb |grep gitlab_email</span><br><span class="line">    60  # gitlab_rails[&#x27;gitlab_email_enabled&#x27;] = true</span><br><span class="line">    61  # gitlab_rails[&#x27;gitlab_email_from&#x27;] = &#x27;example@example.com&#x27;</span><br><span class="line">    62  # gitlab_rails[&#x27;gitlab_email_display_name&#x27;] = &#x27;Example&#x27;</span><br><span class="line">    63  # gitlab_rails[&#x27;gitlab_email_reply_to&#x27;] = &#x27;noreply@example.com&#x27;</span><br><span class="line">    64  # gitlab_rails[&#x27;gitlab_email_subject_suffix&#x27;] = &#x27;&#x27;</span><br><span class="line">    65  # gitlab_rails[&#x27;gitlab_email_smime_enabled&#x27;] = false</span><br><span class="line">    66  # gitlab_rails[&#x27;gitlab_email_smime_key_file&#x27;] = &#x27;/etc/gitlab/ssl/gitlab_smime.key&#x27;</span><br><span class="line">    67  # gitlab_rails[&#x27;gitlab_email_smime_cert_file&#x27;] = &#x27;/etc/gitlab/ssl/gitlab_smime.crt&#x27;</span><br><span class="line">[root@test102 ~]# </span><br></pre></td></tr></table></figure>

<p>邮件发送测试</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# gitlab-rails console</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line"> GitLab:       12.5.0 (1f0ab8978ef)</span><br><span class="line"> GitLab Shell: 10.2.0</span><br><span class="line"> PostgreSQL:   10.9</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Loading production environment (Rails 5.2.3)</span><br><span class="line">irb(main):001:0&gt; Notify.test_email(&#x27;anliven@126.com&#x27;,&#x27;test&#x27;,&#x27;test&#x27;).deliver_now</span><br><span class="line">Notify#test_email: processed outbound mail in 1.4ms</span><br><span class="line">Sent mail to anliven@126.com (73.0ms)</span><br><span class="line">Date: Wed, 27 Nov 2019 15:12:58 +0800</span><br><span class="line">From: GitLab &lt;gitlab@192.168.16.102&gt;</span><br><span class="line">Reply-To: GitLab &lt;noreply@192.168.16.102&gt;</span><br><span class="line">To: anliven@126.com</span><br><span class="line">Message-ID: &lt;5dde21fa612d4_3a1b3fcb38fcf9c0651b@test102.mail&gt;</span><br><span class="line">Subject: test</span><br><span class="line">Mime-Version: 1.0</span><br><span class="line">Content-Type: text/html;</span><br><span class="line"> charset=UTF-8</span><br><span class="line">Content-Transfer-Encoding: 7bit</span><br><span class="line">Auto-Submitted: auto-generated</span><br><span class="line">X-Auto-Response-Suppress: All</span><br><span class="line">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/REC-html40/loose.dtd&quot;&gt;</span><br><span class="line">&lt;html&gt;&lt;body&gt;&lt;p&gt;test&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;</span><br><span class="line">=&gt; #&lt;Mail::Message:70141649239780, Multipart: false, Headers: &lt;Date: Wed, 27 Nov 2019 15:12:58 +0800&gt;, &lt;From: GitLab &lt;gitlab@192.168.16.102&gt;&gt;, &lt;Reply-To: GitLab &lt;noreply@192.168.16.102&gt;&gt;, &lt;To: anliven@126.com&gt;, &lt;Message-ID: &lt;5dde21fa612d4_3a1b3fcb38fcf9c0651b@test102.mail&gt;&gt;, &lt;Subject: test&gt;, &lt;Mime-Version: 1.0&gt;, &lt;Content-Type: text/html; charset=UTF-8&gt;, &lt;Content-Transfer-Encoding: 7bit&gt;, &lt;Auto-Submitted: auto-generated&gt;, &lt;X-Auto-Response-Suppress: All&gt;&gt;</span><br><span class="line">irb(main):002:0&gt; </span><br><span class="line">irb(main):003:0&gt; exit</span><br><span class="line">[root@test102 ~]#</span><br></pre></td></tr></table></figure>



<h2 id="3-3-禁用创建组权限"><a href="#3-3-禁用创建组权限" class="headerlink" title="3.3 禁用创建组权限"></a>3.3 禁用创建组权限</h2><p>GitLab默认所有的注册用户都可以创建组，在实际使用中，通常只会给指定的少部分用户相关权限。 将/etc/gitlab/gitlab.rb中的gitlab_rails[‘gitlab_default_can_create_group’]参数设为false，然后重载配置即可。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# cat -n /etc/gitlab/gitlab.rb |grep &quot;create_group&quot;</span><br><span class="line">    70  # gitlab_rails[&#x27;gitlab_default_can_create_group&#x27;] = true</span><br><span class="line">[root@test102 ~]# </span><br></pre></td></tr></table></figure>



<h2 id="3-4-集成OpenLDAP"><a href="#3-4-集成OpenLDAP" class="headerlink" title="3.4 集成OpenLDAP"></a>3.4 集成OpenLDAP</h2><p>设置/etc/gitlab/gitlab.rb文件中关于LDAP的内容，并重载配置，然后通过“gitlab-rake gitlab:ldap:check ”命令验证是否是否能正常获取用户列表，最后重启gitlab服务。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# cat -n /etc/gitlab/gitlab.rb |grep &quot;LDAP Settings&quot;</span><br><span class="line">   296  ### LDAP Settings</span><br><span class="line">[root@test102 ~]# </span><br></pre></td></tr></table></figure>



<h2 id="3-5-GitLab个人中文界面"><a href="#3-5-GitLab个人中文界面" class="headerlink" title="3.5 GitLab个人中文界面"></a>3.5 GitLab个人中文界面</h2><p>登录后，点击右上角用户头像—》Settings—》Preferences—》Localization部分的Language项目—》选择“简体中文”并保存更改—》刷新页面。 <img src="https://img2018.cnblogs.com/blog/819128/201912/819128-20191204092313626-223055748.png" alt="img"> <img src="https://oscimg.oschina.net/oscnet/4b53095109b502e0fc30cbaf6aaff5d6a51.png" alt="img"></p>
<h1 id="4-日志查看"><a href="#4-日志查看" class="headerlink" title="4 -  日志查看"></a>4 -  日志查看</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl tail     # 查看所有GitLab日志 </span><br><span class="line">gitlab-ctl tail &lt;module-name&gt;    # 查看某个组件的日志</span><br><span class="line">gitlab-ctl tail &lt;module-name&gt;/&lt;log-name&gt;    # 查看某个组件的某个类型日志</span><br></pre></td></tr></table></figure>

<p>日志目录：/var/log/gitlab/</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[root@test102 ~]# ll /var/log/gitlab/</span><br><span class="line">total 0</span><br><span class="line">drwx------ 2 gitlab-prometheus root        47 Nov 27 13:55 alertmanager</span><br><span class="line">drwx------ 2 git               root        47 Nov 27 13:53 gitaly</span><br><span class="line">drwx------ 2 git               root        47 Nov 27 13:55 gitlab-exporter</span><br><span class="line">drwx------ 2 git               root       238 Nov 27 14:00 gitlab-rails</span><br><span class="line">drwx------ 2 git               root         6 Nov 27 13:53 gitlab-shell</span><br><span class="line">drwx------ 2 git               root        47 Nov 27 13:54 gitlab-workhorse</span><br><span class="line">drwx------ 2 gitlab-prometheus root        47 Nov 27 13:56 grafana</span><br><span class="line">drwx------ 2 root              root        47 Nov 27 13:55 logrotate</span><br><span class="line">drwxr-x--- 2 root              gitlab-www 131 Nov 27 13:54 nginx</span><br><span class="line">drwx------ 2 gitlab-prometheus root        47 Nov 27 13:55 node-exporter</span><br><span class="line">drwx------ 2 gitlab-psql       root        47 Nov 27 13:55 postgres-exporter</span><br><span class="line">drwx------ 2 gitlab-psql       root        47 Nov 27 13:53 postgresql</span><br><span class="line">drwx------ 2 gitlab-prometheus root        47 Nov 27 13:55 prometheus</span><br><span class="line">drwxr-xr-x 2 root              root        50 Nov 27 15:04 reconfigure</span><br><span class="line">drwx------ 2 gitlab-redis      root        47 Nov 27 13:53 redis</span><br><span class="line">drwx------ 2 gitlab-redis      root        47 Nov 27 13:55 redis-exporter</span><br><span class="line">drwx------ 2 git               root        47 Nov 27 13:54 sidekiq</span><br><span class="line">drwx------ 2 git               root        99 Nov 27 13:54 unicorn</span><br><span class="line">[root@test102 ~]# </span><br><span class="line">[root@test102 ~]# ll /var/log/gitlab/nginx/</span><br><span class="line">total 32</span><br><span class="line">-rw-r--r-- 1 root root     0 Nov 27 13:54 access.log</span><br><span class="line">-rw-r--r-- 1 root root    30 Nov 27 13:54 config</span><br><span class="line">-rw-r--r-- 1 root root     0 Nov 27 13:54 current</span><br><span class="line">-rw-r--r-- 1 root root     0 Nov 27 13:54 error.log</span><br><span class="line">-rw-r--r-- 1 root root 28553 Nov 27 15:25 gitlab_access.log</span><br><span class="line">-rw-r--r-- 1 root root     0 Nov 27 13:54 gitlab_error.log</span><br><span class="line">-rw------- 1 root root     0 Nov 27 13:54 lock</span><br><span class="line">[root@test102 ~]#</span><br></pre></td></tr></table></figure>



<h1 id="5-GitLab-ctl常用命令"><a href="#5-GitLab-ctl常用命令" class="headerlink" title="5 - GitLab-ctl常用命令"></a>5 - GitLab-ctl常用命令</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">gitlab-ctl reconfigure    # 重载配置</span><br><span class="line">gitlab-ctl check-config    # 检查配置并启动</span><br><span class="line">gitlab-ctl diff-config    # 将用户配置与包可用配置进行比较</span><br><span class="line">gitlab-ctl status    # 查看所有启动组件的进程和状态</span><br><span class="line">gitlab-ctl service-list    # 查看所有服务</span><br><span class="line">gitlab-ctl stop    # 停止GitLab服务</span><br><span class="line">gitlab-ctl start    # 启动GitLab服务 </span><br><span class="line">gitlab-ctl restart    # 重启GitLab服务 </span><br><span class="line">gitlab-ctl once    # 如果GitLab服务已停止则启动服务，如果GitLab服务已启动则重启GitLab服务</span><br></pre></td></tr></table></figure>

<p>gitlab-ctl help</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"># gitlab-ctl help</span><br><span class="line">omnibus-ctl: command (subcommand)</span><br><span class="line">check-config</span><br><span class="line">  Check if there are any configuration in gitlab.rb that is removed in specified version</span><br><span class="line">deploy-page</span><br><span class="line">  Put up the deploy page</span><br><span class="line">diff-config</span><br><span class="line">  Compare the user configuration with package available configuration</span><br><span class="line">prometheus-upgrade</span><br><span class="line">  Upgrade the Prometheus data to the latest supported version</span><br><span class="line">remove-accounts</span><br><span class="line">  Delete *all* users and groups used by this package</span><br><span class="line">reset-grafana</span><br><span class="line">  Reset Grafana instance to its initial state by removing the data directory</span><br><span class="line">set-grafana-password</span><br><span class="line">  Reset admin password for Grafana</span><br><span class="line">upgrade</span><br><span class="line">  Run migrations after a package upgrade</span><br><span class="line">General Commands:</span><br><span class="line">  cleanse</span><br><span class="line">    Delete *all* gitlab data, and start from scratch.</span><br><span class="line">  help</span><br><span class="line">    Print this help message.</span><br><span class="line">  reconfigure</span><br><span class="line">    Reconfigure the application.</span><br><span class="line">  show-config</span><br><span class="line">    Show the configuration that would be generated by reconfigure.</span><br><span class="line">  uninstall</span><br><span class="line">    Kill all processes and uninstall the process supervisor (data will be preserved).</span><br><span class="line">Service Management Commands:</span><br><span class="line">  graceful-kill</span><br><span class="line">    Attempt a graceful stop, then SIGKILL the entire process group.</span><br><span class="line">  hup</span><br><span class="line">    Send the services a HUP.</span><br><span class="line">  int</span><br><span class="line">    Send the services an INT.</span><br><span class="line">  kill</span><br><span class="line">    Send the services a KILL.</span><br><span class="line">  once</span><br><span class="line">    Start the services if they are down. Do not restart them if they stop.</span><br><span class="line">  restart</span><br><span class="line">    Stop the services if they are running, then start them again.</span><br><span class="line">  service-list</span><br><span class="line">    List all the services (enabled services appear with a *.)</span><br><span class="line">  start</span><br><span class="line">    Start services if they are down, and restart them if they stop.</span><br><span class="line">  status</span><br><span class="line">    Show the status of all the services.</span><br><span class="line">  stop</span><br><span class="line">    Stop the services, and do not restart them.</span><br><span class="line">  tail</span><br><span class="line">    Watch the service logs of all enabled services.</span><br><span class="line">  term</span><br><span class="line">    Send the services a TERM.</span><br><span class="line">  usr1</span><br><span class="line">    Send the services a USR1.</span><br><span class="line">  usr2</span><br><span class="line">    Send the services a USR2.</span><br><span class="line">Backup Commands:</span><br><span class="line">  backup-etc</span><br><span class="line">    Backup GitLab configuration [accepts directory path]</span><br><span class="line">Let&#x27;s Encrypt Commands:</span><br><span class="line">  renew-le-certs</span><br><span class="line">    Renew the existing Let&#x27;s Encrypt certificates</span><br><span class="line">Database Commands:</span><br><span class="line">  pg-password-md5</span><br><span class="line">    Generate MD5 Hash of user password in PostgreSQL format</span><br><span class="line">  pg-upgrade</span><br><span class="line">    Upgrade the PostgreSQL DB to the latest supported version</span><br><span class="line">  revert-pg-upgrade</span><br><span class="line">    Run this to revert to the previous version of the database</span><br><span class="line">  set-replication-password</span><br><span class="line">    Set database replication password</span><br><span class="line">Container Registry Commands:</span><br><span class="line">  registry-garbage-collect</span><br><span class="line">    Run Container Registry garbage collection.</span><br></pre></td></tr></table></figure>



<h1 id="6-问题处理"><a href="#6-问题处理" class="headerlink" title="6 - 问题处理"></a>6 - 问题处理</h1><h3 id="修改root密码"><a href="#修改root密码" class="headerlink" title="修改root密码"></a>修改root密码</h3><p><a target="_blank" rel="noopener" href="https://www.oschina.net/action/GoToLink?url=https://docs.gitlab.com/ce/security/reset_root_password.html">https://docs.gitlab.com/ce/security/reset_root_password.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@node102 ~]# gitlab-rails console -e production</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line"> GitLab:       12.5.0 (1f0ab8978ef)</span><br><span class="line"> GitLab Shell: 10.2.0</span><br><span class="line"> PostgreSQL:   10.9</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">Loading production environment (Rails 5.2.3)</span><br><span class="line">irb(main):001:0&gt; user = User.where(id: 1).first</span><br><span class="line">=&gt; #&lt;User id:1 @root&gt;</span><br><span class="line">irb(main):002:0&gt; user = User.find_by(email: &#x27;admin@example.com&#x27;)</span><br><span class="line">=&gt; #&lt;User id:1 @root&gt;</span><br><span class="line">irb(main):003:0&gt; user.password = &#x27;secret_pass&#x27;</span><br><span class="line">=&gt; &quot;secret_pass&quot;</span><br><span class="line">irb(main):004:0&gt; user.password_confirmation = &#x27;secret_pass&#x27;</span><br><span class="line">=&gt; &quot;secret_pass&quot;</span><br><span class="line">irb(main):005:0&gt; user.save!</span><br><span class="line">Enqueued ActionMailer::DeliveryJob (Job ID: 90526cdc-8d61-458f-bb85-bd1f2797c5b1) to Sidekiq(mailers) with arguments: &quot;DeviseMailer&quot;, &quot;password_change&quot;, &quot;deliver_now&quot;, #&lt;GlobalID:0x00007fc0b4541088 @uri=#&lt;URI::GID gid://gitlab/User/1&gt;&gt;</span><br><span class="line">=&gt; true</span><br><span class="line">irb(main):006:0&gt; exit</span><br><span class="line">[root@node102 ~]# </span><br></pre></td></tr></table></figure>
</div><div class="article-licensing box"><div class="licensing-title"><p>git及github</p><p><a href="https://violet-zky.github.io/2021/10/04/git及github/">https://violet-zky.github.io/2021/10/04/git及github/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><a href="https://violet-zky.github.io/"><p>xkxk</p></a></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-10-04</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-10-05</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="recommend-area"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/css/share.min.css"><div class="social-share"></div><script src="https://cdnjs.loli.net/ajax/libs/social-share.js/1.0.16/js/social-share.min.js"></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://raw.githubusercontent.com/removeif/blog_image/master/img/2019/20190802135456.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://raw.githubusercontent.com/removeif/blog_image/master/img/2019/20190802135550.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/10/26/VMware%E7%9A%84%E4%B8%89%E7%A7%8D%E7%BD%91%E5%8D%A1/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">VMware的三种网卡</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/10/04/Docker%E6%8A%80%E6%9C%AF%E5%85%A5%E9%97%A8%E4%B8%8E%E5%AE%9E%E6%88%98/"><span class="level-item">Docker技术入门与实战</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--><div class="card"><div class="card-content"><div class="title is-5">评论</div><div id="comment-container"></div><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/gitalk/1.6.0/gitalk.css"><script> $.getScript('/js/gitalk.min.js', function () { 
            var gitalk = new Gitalk({
            language:'zh-CN',
            id: 'f66f258218ac9f957501e303c34b0a41',
            repo: 'violet-zky.github.io',
            owner: 'violet-zky',
            clientID: '46a9f3481b46ea0129d8',
            clientSecret: '79c7c9cb847e141757d7864453bcbf89f0655b24',
            admin: ["violet-zky"],
            createIssueManually: true,
            distractionFreeMode: false,
            perPage: 10,
            pagerDirection: 'last',
            proxy: 'https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token',
            
            enableHotKey: true,
            isLocked: false
        })
        gitalk.render('comment-container')});</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><!--!--><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar.png" alt="小凯のHome"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">小凯のHome</p><p class="is-size-6 is-block">尚未执佩剑，转眼即江湖</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>江苏</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">31</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">35</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/violet-zky"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/u/7253852899"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="/2652516133@qq.com"><i class="fa fa-envelope"></i></a></div><div><hr><p id="hitokoto">:D 一言句子获取中...</p><script type="text/javascript" defer>function getYiyan(){
                                $.getJSON("https://v1.hitokoto.cn/", function (data) {
                                if(data){
                                    $('#hitokoto').html("");
                                    $('#hitokoto').append("<strong style='color: #3273dc;'>"+data.hitokoto+"</strong>"+
                                    "<p>"+"来源《"+data.from+"》</p><p>提供者-"+data.creator+"</p>");
                                }});}
                                $(function (){getYiyan();$('#hitokoto').click(function(){getYiyan();})});</script></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新评论</h3><span class="body_hot_comment">加载中，最新评论有1分钟缓存...</span></div></div><div class="card widget"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-13T13:21:56.000Z">2022-02-13</time></p><p class="title"><a href="/2022/02/13/%E5%8D%8E%E4%B8%BA%E4%BA%91%E8%AE%A1%E7%AE%97%E6%9C%8D%E5%8A%A1%E5%AE%9E%E8%B7%B5/">华为云计算服务实践</a></p><p class="categories"><a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/">华为云</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/">微认证</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-12T03:02:18.000Z">2022-02-12</time></p><p class="title"><a href="/2022/02/12/%E5%8D%8E%E4%B8%BA%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93%E6%9C%8D%E5%8A%A1%E5%AE%9E%E8%B7%B5/">华为云数据库服务实践</a></p><p class="categories"><a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/">华为云</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/">微认证</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/%E4%BA%91%E8%AE%A1%E7%AE%97/">云计算</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-11T04:28:06.000Z">2022-02-11</time></p><p class="title"><a href="/2022/02/11/ModelArts%E5%AE%9E%E7%8E%B0%E6%99%BA%E8%83%BD%E8%8A%B1%E5%8D%89%E8%AF%86%E5%88%AB/">ModelArts实现智能花卉识别</a></p><p class="categories"><a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/">华为云</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/">微认证</a> / <a href="/categories/%E5%8D%8E%E4%B8%BA%E4%BA%91/%E5%BE%AE%E8%AE%A4%E8%AF%81/%E6%99%BA%E8%83%BD%E7%A7%91%E6%8A%80/">智能科技</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-10T08:49:18.000Z">2022-02-10</time></p><p class="title"><a href="/2022/02/10/kubernetes/">kubernetes</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-02-10T08:45:46.000Z">2022-02-10</time></p><p class="title"><a href="/2022/02/10/docker/">docker</a></p></div></article></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/categories/DBA/"><span class="level-start"><span class="level-item">DBA</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/HCIA/"><span class="level-start"><span class="level-item">HCIA</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/HCIA/RS/"><span class="level-start"><span class="level-item">RS</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/LaTeX/"><span class="level-start"><span class="level-item">LaTeX</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/Nginx/"><span class="level-start"><span class="level-item">Nginx</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Nginx/Linux/"><span class="level-start"><span class="level-item">Linux</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/Windows/"><span class="level-start"><span class="level-item">Windows</span></span><span class="level-end"><span class="level-item tag">1</span></span></a><ul class="mr-0"><li><a class="level is-mobile is-marginless" href="/categories/Windows/%E5%B0%8F%E6%8A%80%E5%B7%A7/"><span class="level-start"><span class="level-item">小技巧</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile is-marginless" href="/categories/git/"><span class="level-start"><span class="level-item">git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/categories/%E4%BA%91%E8%AE%A1%E7%AE%97/"><span class="level-start"><span class="level-item">云计算</span></span><span class="level-end"><span class="level-item tag">2</span></span></a><ul class="mr-0"></ul></li><a class="level is-mobile is-marginless" href="/categories/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile is-marginless" href="/archives/2022/02/"><span class="level-start"><span class="level-item">二月 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2022/01/"><span class="level-start"><span class="level-item">一月 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/12/"><span class="level-start"><span class="level-item">十二月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/11/"><span class="level-start"><span class="level-item">十一月 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile is-marginless" href="/archives/2021/10/"><span class="level-start"><span class="level-item">十月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><a class="level is-mobile is-marginless" href="/archives/"><span class="level-start"><span class="level-item">查看全部&gt;&gt;</span></span></a></ul></div></div></div><div class="card widget"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/%E6%95%99%E7%A8%8B/"><span class="tag">教程</span><span class="tag is-grey-lightest">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag is-grey-lightest">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8D%8E%E4%B8%BA%E4%BA%91/"><span class="tag">华为云</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%BE%AE%E8%AE%A4%E8%AF%81/"><span class="tag">微认证</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD/"><span class="tag">转载</span><span class="tag is-grey-lightest">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%8A%80%E5%B7%A7/"><span class="tag">技巧</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="tag">数据库</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E6%8D%AE%E6%8C%96%E6%8E%98/"><span class="tag">数据挖掘</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B5%8B%E8%AF%95/"><span class="tag">测试</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"><span class="tag">深度学习</span><span class="tag is-grey-lightest">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/APP%E6%B5%8B%E8%AF%95/"><span class="tag">APP测试</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CNN/"><span class="tag">CNN</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ECS/"><span class="tag">ECS</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/FTP/"><span class="tag">FTP</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hadoop/"><span class="tag">Hadoop</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LaTeX/"><span class="tag">LaTeX</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Nginx/"><span class="tag">Nginx</span><span class="tag is-grey-lightest">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RS/"><span class="tag">RS</span><span class="tag is-grey-lightest">1</span></a></div></div><div class="field is-grouped is-grouped-multiline"><a class="tags has-addons" href="/tags/"><span class="tag">查看全部&gt;&gt;</span></a></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">订阅更新</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="订阅"></div></div></form></div></div></div><!--!--><div class="column-right-shadow is-hidden-widescreen"></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/">小凯のHome</a><p class="size-small"><span>&copy; 2022 xkxk</span>  Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a> &amp; <a href="https://github.com/removeif/hexo-theme-amazing" target="_blank">Amazing</a> <br><span>© 版权说明：[本网站所有内容均收集于互联网或自己创作,<br />&nbsp;&nbsp;&nbsp;&nbsp;方便于网友与自己学习交流，如有侵权，请<a href="/message" target="_blank">留言</a>，立即处理]<br /></span><span><span id="statistic-times">loading...</span><script>function createTime(time) {
            var n = new Date(time);
            now.setTime(now.getTime() + 250),
                days = (now - n) / 1e3 / 60 / 60 / 24,
                dnum = Math.floor(days),
                hours = (now - n) / 1e3 / 60 / 60 - 24 * dnum,
                hnum = Math.floor(hours),
            1 == String(hnum).length && (hnum = "0" + hnum),
                minutes = (now - n) / 1e3 / 60 - 1440 * dnum - 60 * hnum,
                mnum = Math.floor(minutes),
            1 == String(mnum).length && (mnum = "0" + mnum),
                seconds = (now - n) / 1e3 - 86400 * dnum - 3600 * hnum - 60 * mnum,
                snum = Math.round(seconds),
            1 == String(snum).length && (snum = "0" + snum),
                document.getElementById("statistic-times").innerHTML = "❤️本站自 <strong>"+time.split(" ")[0].replace(/\//g,".")+"</strong> 已运行 <strong>" + dnum + "</strong> 天 <strong>" + hnum + "</strong> 小时 <strong>" + mnum + "</strong> 分 <strong>" + snum + "</strong> 秒！❤️";
        }var now = new Date();setInterval("createTime('2021/1/6 6:6:6')", 250,"");</script><br></span><div class="size-small"><span>❤️感谢 <strong><span id="busuanzi_value_site_uv">99+</span></strong> 小伙伴的 <strong><span id="busuanzi_value_site_pv">99+</span></strong> 次光临！❤️</span></div></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/removeif/hexo-theme-amazing"><i class="fab fa-github"></i></a></p></div><div class="sideMusic"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css"><script src="/js/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script><meting-js style="width: auto;height: 2000px;" server="netease" type="playlist" id="2364053447" theme="#2980b9" loop="all" autoplay="false" order="list" storageName="aplayer-setting" lrctype="0" list-max-height="400px" fixed="true"></meting-js></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" async></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><script>$.getScript('/js/comment-issue-data.js',function(){loadIssueData('46a9f3481b46ea0129d8','79c7c9cb847e141757d7864453bcbf89f0655b24','violet-zky','violet-zky.github.io',false);})</script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script><script type="text/javascript">var pjax = new Pjax({
            elements: "a",//代表点击链接就更新
            selectors: [  //代表要更新的节点
                ".section",
                "title"
            ],
            cache: true,
            cacheBust:false
        })

        function loadBusuanzi(){
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js", function () {});
        }

        function loadMathJax() { //加载mathjax
            $.getScript("//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML", function () {
                MathJax.Hub.Config({ tex2jax: { inlineMath: [['$', '$'], ['\(', '\)']] } });
                var math = document.getElementsByClassName("entry-content")[0];
                MathJax.Hub.Queue(["Typeset", MathJax.Hub, math]);
            });
        };

        // 开始 PJAX 执行的函数
        document.addEventListener('pjax:send', function () {
        });
        
        // PJAX 完成之后执行的函数，可以和上面的重载放在一起
        document.addEventListener('pjax:complete', function () {
            $(".section").css({opacity:1});
            if(true){
                $.getScript('/js/comment-issue-data.js',function(){loadIssueData('46a9f3481b46ea0129d8','79c7c9cb847e141757d7864453bcbf89f0655b24','violet-zky','violet-zky.github.io',false);});
            }
            if(false){
                loadMathJax();
            }
            loadMainJs(jQuery, window.moment, window.ClipboardJS, window.IcarusThemeSettings);
            loadBackTop();
            loadBusuanzi();
            if(typeof loadBanner == 'function'){
                loadBanner();
            }
        });</script></body></html>